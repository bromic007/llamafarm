# Shared Ruff configuration for all Python components in the monorepo
# This file is referenced by each component's pyproject.toml

line-length = 88         # Match Black's default
target-version = "py311"

# Enable auto-fixes
fix = true

# Exclude patterns (common across all components)
exclude = [
  "migrations",
  ".venv",
  "venv",
  "build",
  "dist",
  "__pycache__",
  "*.egg-info",
]

# Linting configuration
[lint]
select = ["E", "F", "I", "B", "UP", "SIM"]

ignore = ["E501", "UP040"]

# Per-file ignores
[lint.per-file-ignores]
"__init__.py" = ["F401"]

[lint.flake8-bugbear]
extend-immutable-calls = [
  # Whitelisted default arguments
  "fastapi.Query",
  "fastapi.Depends",
  "fastapi.Header",
]
