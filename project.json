{
  "$schema": "https://json.schemastore.org/nx-project",
  "name": "llamafarm",
  "projectType": "application",
  "targets": {
    "dev": {
      "continuous": true,
      "dependsOn": [
        "server:start",
        "rag:start",
        "designer:dev"
      ],
      "executor": "nx:run-commands",
      "options": {
        "command": "tail -f /dev/null"
      }
    },
    "lemonade": {
      "executor": "nx:run-commands",
      "options": {
        "command": "cd config && bash ../runtimes/lemonade/start-all.sh"
      }
    },
    "generate-types": {
      "dependsOn": [
        "config:generate-types",
        "cli:generate-types"
      ]
    },
    "pack": {
      "executor": "nx:run-commands",
      "options": {
        "cwd": "{workspaceRoot}",
        "command": "bash scripts/package-source.sh ${VERSION:-unknown} dist"
      },
      "dependsOn": [
        "cli:generate-types",
        "designer:build"
      ],
      "inputs": [
        "{workspaceRoot}/scripts/package-source.sh",
        "{workspaceRoot}/server/**/*",
        "{workspaceRoot}/rag/**/*",
        "{workspaceRoot}/common/**/*",
        "{workspaceRoot}/config/**/*",
        "{workspaceRoot}/runtimes/universal/**/*",
        "{workspaceRoot}/packages/llamafarm-llama/**/*",
        "{workspaceRoot}/designer/dist/**/*"
      ],
      "outputs": [
        "{workspaceRoot}/dist"
      ]
    }
  }
}